<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link href="tablerender.css" rel="stylesheet" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> 
    <script src="tablerender.js"></script>
    <script type="text/javascript">

        var TEST = {};

        TEST.data = {
            "data": [],
            css: { table: "grid"},
            headerTemplate: [{
                fieldName: "Iso_language_code",
                template: function (field) {
                    return "Language";
                }
            },
            {
                fieldName: "Profile_image_url",
                template: function (field) {
                    return "Profile Pic ";
                }
            }],
            fieldTemplate: [{
                fieldName: "Profile_image_url",
                template: function (field) {
                    return '<img src="'+field +'" alt="Profile image" width="25px">'
                }
            }],
            hidefields: ["Id", "Id_str","from_user", "metadata","profile_image_url", "Profile_image_url_https", "Geo", "Source", "To_user", "To_user_id", "To_user_id_str", "To_user_name", "From_user_id", "From_user_id_str", "From_user_name"],
            keyfields: ["name"],
            amalgateColumns: [{
                columnHeader: "",
                amalgations: ["Profile_image_url", "From_user"],
                prepend: true,
                template: function (fields) {
                    var arrHTML = [];
                    arrHTML.push('<img src="' + fields["profile_image_url"] + '" width="25px">');
                    arrHTML.push('<span>@' + fields["from_user"] + '</span>');
                    return arrHTML.join('');
                }
            }],
            actions: ["update", "delete", "add"],
            showPagination: true,
            paginationPageSize: 10,
            pageSize: 5,
        };

        TEST.data.data = [
        { "ID": 1, "Name": "Aoe", "Address1": "23 Jami street" },
        { "ID": 2, "Name": "Jill", "Address1": "31 Napierville" }
            ]; 

        $(document).ready(function () {
            //$('div.container').tablerender('renderTable', TEST.data);
            $.getJSON("http://search.twitter.com/search.json?q=beyonce&callback=?", function (data) {
                //alert(Object.keys(data).length);
                TEST.data.data = data.results;
                $('div.container').tablerender('renderTable', TEST.data);
            });
        });
    
    </script>
</head>
<body>
    <div class="container">
 
    </div>

</body>

</html>
